!function(){var n=function(n,e){function t(){var t,a,d,o=n.find(".model").find(".header"),s=o.length;s<1||(d=e%s,t=o.eq(d).clone(!0,!0),t.hasClass("terminal")&&e>0||(a=$("<div>"),a.addClass("margin"),t.children().each(function(){a.append(this)}),t.append(a),i.prepend(t),setTimeout(function(){r.css("margin-top",t.height())})))}function a(){var t,a,d,o=n.find(".model").find(".footer"),s=o.length;s<1||(a=e%s,t=o.eq(a).clone(!0,!0),t.hasClass("terminal")&&e<n.data("lastPageNumber")-1||(d=$("<div>"),d.addClass("margin"),t.children().each(function(){d.append(this)}),t.append(d),i.append(t),setTimeout(function(){r.css("margin-bottom",t.height())})))}var i=$("<div>"),r=$("<div>"),d=$("<div>");return d.addClass("margin"),e=e||n.data("lastPageNumber"),r.addClass("content").append(d),i.getContentHeight=function(){var n=this.find(".header"),e=this.find(".footer"),t=Math.max(n.length>0?n.height():0,parseInt(d.css("margin-top"))),a=Math.max(e.length>0?e.height():0,parseInt(d.css("margin-top")));return this.height()-t-a},i.needsBreaking=function(){return r.height()>this.getContentHeight()},i.setPageNumber=function(n){this.data("pageNumber",n),this.find(".header").remove(),this.find(".footer").remove(),t(),a()},i.addClass("page").append(r),i.setPageNumber(e),i};$.fn.paginate=function(){function e(n){return"."+n.split(" ").filter(function(n){return n.trim().length>0}).join(".")}function t(){g.find(e(v)).each(function(){var n=$(this),t=n.parent();n.parents(e(b)).length>0||(t.attr("data-order",0),n.data("$modelParent",t).removeClass(v).addClass(C),P.push(t),m[0].find(".content").find(".margin").append(n))}),g.find("[data-order]").each(function(n){$(this).attr("data-order",n)}),p.find(".content").find(".margin").children().each(function(){var n=$(this),t=n.data("$modelParent");return t?t.hasClass(b)||t.parents().length<1||t.parents(e(b)).length>0?void n.remove():void n.attr("data-order",t.attr("data-order")):void n.remove()})}function a(){var n=p.find(".content").find(".margin").children();n.each(function(){var n,e,t=$(this),a=t.prev();n=t.data("$modelParent"),a.length>0&&(e=a.data("$modelParent")),e&&parseInt(n.attr("data-order"))<parseInt(e.attr("data-order"))&&t.insertBefore(a)})}function i(){function e(){var n=[];return m.forEach(function(e,t){var a=e.getContentHeight(),i=!1,r=e.find(".content").find(".margin").children();return r.each(function(){var n=$(this),t=n.position().top,r=n.height(),d=parseInt(e.find(".content").css("margin-top"))+a;i=i||t+r>d}),i?(e.addClass("-overflow"),void n.push(t)):void e.removeClass("-overflow")}),n}function t(e){e.forEach(function(e,t){var a=[],i=m[e],r=i.getContentHeight(),d=!1;for(i.find(".content").find(".margin").children().each(function(){var n=$(this),e=n.position().top,t=n.height(),o=parseInt(i.find(".content").css("margin-top")),s=o+r;(d||e+t>s)&&a.unshift(this)});a.length>0;)m[e+1]||p.append(m[e+1]=new n(c,e+1)),m[e+1].find(".content").find(".margin").prepend(a.shift()),c.data("lastPageNumber",e+1)})}var a;do t(a=e());while(a.length>0)}function r(){m.forEach(function(n,e){n.removeAttr("hidden").setPageNumber(e)})}function d(){m.forEach(function(n,e){n.find(".content").find(".margin").children().length>0||e<1||n.attr("hidden","")})}function o(){c.trigger("paginator.pagenumberchange",{lastPageNumber:l}),c.data("lastPageNumber",p.find(".page").length)}function s(){if(c.data("_isRendering",!0),o(),!m[l]&&(p.append(m[l]=new n(c,l)),"auto"===p.find(".page").css("height")))throw new Error("Page dimensions should be explicitly set up! Either you have not included the default style or pages' dimensions have been set to auto.");r(),t(),a(),i(),d(),a(),c.data("_isRendering",!1),c.trigger("paginator.modelchangeend",{})}function h(){c.trigger("paginator.modelchangestart",{}),c.data("_isRendering")||(N&&clearTimeout(N),N=setTimeout(function(){s()},w))}var c=this,g=$("<div>"),f=$("<div>"),p=$("<div>"),u=new MutationObserver(h),l=0,m=[],v="page-block",C="page-added",b="page-deleted",P=[],w=500,N=null;f.addClass("watch").append(c.children()),u.observe(f[0],{childList:!0,attributes:!0,characterData:!0,subtree:!0}),g.addClass("model").append(f),p.addClass("view").append(m[0]),c.addClass("paginator-component").append(g).append(p),setTimeout(function(){s()})}}();
//# sourceMappingURL=jquery-paginator.min.js.map
