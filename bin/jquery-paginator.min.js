!function(){function n(n,e){return"["+n+'="'+e+'"]'}function e(n){return"."+n.split(" ").filter(function(n){return n.trim().length>0}).join(".")}function t(n){return n}function r(n,e){function t(){a.$el=a.$el||$("<div>").addClass(n),a.$margin=a.$margin=$("<div>").addClass(C),a.$el.append(a.$margin)}var r,a=this;a.append=function(n){a.$margin.append(n)},a.clear=function(){a.$margin.html("")},a.mountTo=function(n){r!==n&&(r=n,r.$el.append(a.$el))},a.getBlocks=function(){return a.$margin.children()},t()}function a(n){function e(){i.$el=i.$el||$("<div>").addClass(g),i.$el.append(i.header.$el).append(i.content.$el).append(i.footer.$el)}function t(){var n=i.header.$el,e=i.footer.$el,t=i.content.$margin,r=Math.max(n.length>0?n.height():0,parseInt(t.css("margin-top"))),a=Math.max(e.length>0?e.height():0,parseInt(t.css("margin-bottom")));return i.$el.height()-r-a}function a(){var n=i.header.$el,e=i.content.$margin,r=Math.max(n.length>0?n.height():0,parseInt(e.css("margin-top")));return r+t()}var o,i=this;i.header=new r(k,n),i.content=new r(w,n),i.footer=new r(b,n),i.hasBreaks=function(){return i.getOverflowBlocks().length>0},i.isBlank=function(){return i.content.$margin.children().length<1},i.getOverflowBlocks=function(){return i.content.getBlocks().filter(function(){var n=$(this),e=n.position().top,t=n.height();return e+t>a()})},i.unmount=function(){i.$el.remove()},i.mountTo=function(n){o!==n&&(o=n,o.view.$el.append(i.$el))},e()}function o(t){function r(){y.pages.forEach(function(n,e){o(k,n,e),o(b,n,e)})}function o(t,r,a){function o(n){return n===k||n===b}function i(n){switch(n){case k:return r.header;case b:return r.footer;case w:return M.content}}function c(n){switch(n){case k:return"margin-top";case b:return"margin-bottom"}}function u(n){switch(n){case k:case b:return i(n).$el.height}}function s(n){var e,t=c(n);t&&(e=u(n),r.content.$margin.css(t,e))}function l(n){n.find(O).each(function(n){$(this).attr(E,""+a+"."+n)})}var f,d,h=T.getIndexForPage(t,a),g=o(t);d=i(t),d&&(g&&d.clear(),h<0||(f=T.getBlocks(t),g&&(f=f(h)),f.each(function(r){var a,o=$(this),i=o;return l(o),g&&(i=o.clone(!0,!0)),!o.parents().is("body")||o.parents(e(m)).length>0?void i.off("change",O):($blockParent=o.parent(),$blockParent.addClass(x).attr(P,0),i.attr(E,r).data(B,$blockParent).removeClass(p).addClass(v).on("change",O,function(e,r){var o,i=$(this);t!==k&&t!==b||(a=i.attr(E),o=$blockParent.find(n(E,a)),i.is("select")&&o.find("option").removeAttr("selected").filter(n("value",i.val())).attr("selected","selected"),o.val(i.val()).trigger(e.type,r))}),void d.append(i))}),s(t)))}function i(){T.$el.find(e(x)).each(function(n){$(this).attr(P,n)}),I.getBlocks("content").each(function(){var n=$(this),e=n.data(B);n.attr(P,e.attr(P))})}function c(){I.getBlocks("content").each(function(){var n,t,r=$(this);n=r.data(B),t=!n||n.hasClass(m)||n.parents(e(m)).length>0||!n.parents().is("body"),t&&r.remove()})}function u(n){var e=new a(t);n.blocks.each(function(){e.content.append($(this))}),y.pages.slice(n.pageIndex+1).forEach(function(n){e.content.append(n.content.getBlocks())}),I.addPage(e)}function s(){var n=null;return y.pages.forEach(function(e,t){e.hasBreaks()&&null===n&&(n={pageIndex:t,blocks:e.getOverflowBlocks()})}),n}function l(){var n=s();return null!==n&&(u(n),!0)}function f(){var n=[];y.pages.forEach(function(e,t){e.isBlank()&&n.push(t)}),n.reverse().forEach(function(n){y.pages.length<2||(y.pages[n].unmount(),y.pages.splice(n,1))})}function d(){I.$el.find(".content").find(".margin").children().sortElements(function(n,e){var t=parseInt($(n).attr(P)),r=parseInt($(e).attr(P));return t-r})}function h(){y.pages.length>0||I.addPage(M)}function g(){var n;do n=l(),r();while(n)}function C(n){y.detachObserver(),N=!1,n(),setTimeout(function(){y.attachObserver(),N=!0})}var T,I,y,j=this,M=new a(t),N=!1;j.render=function(){C(function(){h(),c(),o(w),i(),d(),g(),f(),g()})},j.mountTo=function(n){y=n,T=y.model,I=y.view}}function i(n){function t(){c.$el=c.$el||$("<div>").addClass(f),c.$watch||(c.$watch=c.$watch||$("<div>").addClass(h),c.$el.append(c.$watch))}function r(n,t){return c.$watch.find(e(t?n+" "+T:n))}function a(n){return r(n).length}function o(n,e){var t,o=a(n),c=-1,u=i.view.getPageCount(),s=u-1,l=r(n);if(1===o)switch(n){case k:return 0===e?0:-1;case b:return e===s?0:-1}t=0;do{if(c=(c+1)%o,0===e&&n===k||e===s&&n===b)return l.each(function(n){$(this).hasClass(T)&&(c=n)}),c;l.eq(c).hasClass(T)&&c++,t++}while(t<e);return c}var i,c=this;c.hasTerminalBlockContainer=function(n){return r(n,!0).length>0},c.getIndexForPage=function(n,e){return c.hasTerminalBlockContainer(n)?o(n,e):e%a(n)},c.getBlocks=function(n){switch(n){case k:case b:return function(t){var a=r(n).eq(t),o=a.hasClass(T),i=a.find(e(p));return o?i.addClass(T):i.removeClass(T)}}return r(n).find(e(p))},c.getOrderedBlocks=function(n){return r(n).find("["+P+"]")},c.mountTo=function(n){i!==n&&(i=n,i.$el.append(c.$el))},t()}function c(n){function t(){a.$el=a.$el||$("<div>").addClass(d)}function r(n,e){return isNaN(e)||null===e?void a.paginator.pages.push(n):void a.paginator.pages.splice(e,0,n)}var a=this;a.paginator=null,a.getPageCount=function(){return a.paginator.pages.length},a.getBlocks=function(n){return a.$el.find(e(n)).children(e(C)).children()},a.addPage=function(n,e){return r(n,e),n.mountTo(a.paginator),n},a.mountTo=function(n){a.paginator=n,a.paginator.$el.append(a.$el)},t()}function u(n,r){function a(){B.renderer.render()}function u(n){E&&clearTimeout(E),E=setTimeout(function(){a()},250)}function f(n){B.$el&&B.$el.removeClass(s),B.$el=n,B.$el.hasClass(s)||B.$el.addClass(s).removeClass(l)}function d(){var n;B.model.mountTo(B),n=B.$el.find([e(k),e(w),e(b)].join(",")),B.model.$watch.append(n)}function h(){B.view.mountTo(B)}function g(){B.renderer.mountTo(B)}function p(){P||(B.attachObserver(),P=!0)}function $(){x||(B.attachEventListeners(),x=!0)}function v(){p(),$()}function m(){a()}var C,B=this,T=new MutationObserver(u),x=!1,P=!1,E=null;return r=new t(r),B.model=new i(r),B.view=new c(r),B.renderer=new o(r),B.pages=B.pages||[],B.detachObserver=function(){T.disconnect()},B.attachObserver=function(){T.observe(B.model.$watch[0],{childList:!0,attributes:!0,characterData:!0,subtree:!0})},B.attachEventListeners=function(){B.model.$watch.on("change","input, select, textarea",function(n){P&&u(n)})},C=function(){return{observe:v,refresh:m}}(),f(n),d(),h(),g(),v(),n.data("paginator",C),C}var s="paginator-component",l="paginator-unpaginated",f="model",d="view",h="watch",g="page",p="page-block",v="page-added",m="page-deleted",w="content",k="header",b="footer",C="margin",B="parent",T="-terminal",x="block-parent",P="data-order",E="data-element-id",O="input, select, textarea, button, a, meter";jQuery.fn.findShallow=function(n){return function n(e,t){var r=e.children();if(r.length){var a=r.filter(t);return a.length?a.first():n(r,t)}return $()}(this,n)},jQuery.fn.sortElements=function(){var n=[].sort;return function(e,t){t=t||function(){return this};var r=this.map(function(){var n=t.call(this),e=n.parentNode,r=e.insertBefore(document.createTextNode(""),n.nextSibling);return function(){if(e===this)throw new Error("You can't sort elements if any one is a descendant of another.");e.insertBefore(this,r),e.removeChild(r)}});return n.call(this,e).each(function(n){r[n].call(t.call(this))})}}(),$.fn.paginate=function(n){return new u(this,n)}}();
//# sourceMappingURL=jquery-paginator.min.js.map
