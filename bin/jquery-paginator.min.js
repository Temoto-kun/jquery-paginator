!function(){var e=function(e,n){function t(){var t,a,r,o=e.find(".model").find(".header"),s=o.length;s<1||(r=n%s,t=o.eq(r).clone(!0,!0),t.hasClass("terminal")&&n>0||(a=$("<div>"),a.addClass("margin"),t.children().each(function(){a.append(this)}),t.append(a),i.prepend(t),setTimeout(function(){d.css("margin-top",t.height())})))}function a(){var t,a,r,o=e.find(".model").find(".footer"),s=o.length;s<1||(a=n%s,t=o.eq(a).clone(!0,!0),t.hasClass("terminal")&&n<e.data("lastPageNumber")-1||(r=$("<div>"),r.addClass("margin"),t.children().each(function(){r.append(this)}),t.append(r),i.append(t),setTimeout(function(){d.css("margin-bottom",t.height())})))}var i=$("<div>"),d=$("<div>"),r=$("<div>");return r.addClass("margin"),n=n||e.data("lastPageNumber"),d.addClass("content").append(r),i.getContentHeight=function(){var e=this.find(".header"),n=this.find(".footer"),t=Math.max(e.length>0?e.height():0,parseInt(r.css("margin-top"))),a=Math.max(n.length>0?n.height():0,parseInt(r.css("margin-top")));return this.height()-t-a},i.needsBreaking=function(){return d.height()>this.getContentHeight()},i.setPageNumber=function(e){this.data("pageNumber",e),this.find(".header").remove(),this.find(".footer").remove(),t(),a()},i.addClass("page").append(d),i.setPageNumber(n),i};$.fn.paginate=function(){function n(e){return"."+e.split(" ").filter(function(e){return e.trim().length>0}).join(".")}function t(){f.find(n(w)).each(function(){var e=$(this),t=e.parent();e.parents(n(E)).length>0||(t.attr("data-order",0),e.data("$modelParent",t).removeClass(w).addClass(N),I.push(t),P[0].find(".content").find(".margin").append(e))}),f.find("[data-order]").each(function(e){$(this).attr("data-order",e)}),p.find(".content").find(".margin").children().each(function(){var e=$(this),t=e.data("$modelParent");return t?t.hasClass(E)||t.parents().length<1||t.parents(n(E)).length>0?void e.remove():void e.attr("data-order",t.attr("data-order")):void e.remove()})}function a(){var e=p.find(".content").find(".margin").children();e.each(function(){var e,n,t=$(this),a=t.prev();e=t.data("$modelParent"),a.length>0&&(n=a.data("$modelParent")),n&&parseInt(e.attr("data-order"))<parseInt(n.attr("data-order"))&&t.insertBefore(a)})}function i(){function n(){var e=[];return P.forEach(function(n,t){var a=n.getContentHeight(),i=!1,d=n.find(".content").find(".margin").children();return d.each(function(){var e=$(this),t=e.position().top,d=e.height(),r=parseInt(n.find(".content").css("margin-top"))+a;i=i||t+d>r}),i?(n.addClass("-overflow"),void e.push(t)):void n.removeClass("-overflow")}),e}function t(n){n.forEach(function(n,t){var a=[],i=P[n],d=i.getContentHeight(),r=!1;for(i.find(".content").find(".margin").children().each(function(){var e=$(this),n=e.position().top,t=e.height(),o=parseInt(i.find(".content").css("margin-top")),s=o+d;(r||n+t>s)&&a.unshift(this)});a.length>0;)P[n+1]||p.append(P[n+1]=new e(c,n+1)),P[n+1].find(".content").find(".margin").prepend(a.shift()),c.data("lastPageNumber",n+1)})}var a;do t(a=n());while(a.length>0)}function d(){P.forEach(function(e,n){e.removeAttr("hidden").setPageNumber(n)})}function r(){P.forEach(function(e,n){e.find(".content").find(".margin").children().length>0||n<1||e.attr("hidden","")})}function o(){c.trigger("paginator.pagenumberchange",{lastPageNumber:b}),c.data("lastPageNumber",p.find(".page").length)}function s(){if(c.data("_isRendering",!0),o(),!P[b]&&(p.append(P[b]=new e(c,b)),"auto"===p.find(".page").css("height")))throw new Error("Page dimensions should be explicitly set up! Either you have not included the default style or pages' dimensions have been set to auto.");d(),t(),a(),i(),r(),a(),setTimeout(function(){c.data("_isRendering",!1),c.trigger("paginator.modelchangeend",{})})}function h(e){c.trigger("paginator.modelchangestart",{}),c.data("_isRendering")||(H&&clearTimeout(H),H=setTimeout(function(){s()},T))}var c=this,f=$("<div>"),g=$("<div>"),p=$("<div>"),l=$("<div>"),u=$("<div>"),m=$("<div>"),v=$("<div>"),C=new MutationObserver(h),b=0,P=[],w="page-block",N="page-added",E="page-deleted",I=[],T=500,H=null;g.addClass("watch").append(c.children()),C.observe(g[0],{childList:!0,attributes:!0,characterData:!0,subtree:!0}),f.addClass("model").append(g),u.addClass("watch"),v.addClass("watch"),p.addClass("view").append(P[0]),l.addClass("headermodel").append(u),m.addClass("footermodel").append(v),c.addClass("paginator-component").append(f).append(l).append(m).append(p),setTimeout(function(){s()})}}();
//# sourceMappingURL=jquery-paginator.min.js.map
