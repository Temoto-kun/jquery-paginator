!function(){function n(n){return"."+n.split(" ").filter(function(n){return n.trim().length>0}).join(".")}function e(n){return n}function t(n,e){function t(){o.$el=o.$el||$("<div>").addClass(n),o.$margin=o.$margin=$("<div>").addClass(k),o.$el.append(o.$margin)}var a,o=this;o.append=function(n){o.$margin.append(n)},o.clear=function(){o.$margin.html("")},o.mountTo=function(n){a!==n&&(a=n,a.$el.append(o.$el))},o.getBlocks=function(){return o.$margin.children()},t()}function a(e){function a(){c.$el=c.$el||$("<div>").addClass(h),c.$el.append(c.header.$el).append(c.content.$el).append(c.footer.$el)}function o(){var e=c.$el.find(n(w)),t=c.$el.find(n(C)),a=c.content.$margin,o=Math.max(e.length>0?e.height():0,parseInt(a.css("margin-top"))),r=Math.max(t.length>0?t.height():0,parseInt(a.css("margin-bottom")));return c.$el.height()-o-r}function r(){return parseInt(c.content.$el.css("margin-top"))+o()}var i,c=this;c.header=new t(w,e),c.content=new t(m,e),c.footer=new t(C,e),c.hasBreaks=function(){return c.getOverflowBlocks().length>0},c.getOverflowBlocks=function(){return c.content.getBlocks().filter(function(){var n=$(this),e=n.position().top,t=n.height();return e+t>r()})},c.mountTo=function(n){i!==n&&(i=n,i.$el.append(c.$el))},a()}function o(e){function t(e,t){var a,o=(h.hasTerminalBlockContainer(w),h.getIndexForPage(w,t));e.header.clear(),h.getBlocks(w)(o).each(function(){var t,o=$(this);a=o.clone(!0,!0),o.parents(n(v)).length>0||(t=o.parent(),t.addClass("block-parent").attr("data-order",0),a.data(B,t).removeClass(g).addClass(p),e.header.append(a))}),e.content.$margin.css("margin-top",e.$el.find(n(w)).height())}function o(){m.pages.forEach(function(n,e){t(n,e)})}function r(){h.getBlocks("content").each(function(){var e,t=$(this);t.parents(n(v)).length>0||(e=t.parent(),e.addClass("block-parent").attr("data-order",0),t.data(B,e).removeClass(g).addClass(p),k.content.append(t))})}function i(){h.getBlocks("content").each(function(n){$(this).attr("data-order",n)})}function c(){m.getBlocks("content").each(function(){var e,t,a=$(this);e=a.data(B),t=!e||e.hasClass(v)||e.parents(n(v)).length>0,t&&a.remove()})}function s(n){var t=new a(e);n.blocks.each(function(){t.content.append($(this))}),m.pages.slice(n.pageIndex+1).forEach(function(n){t.content.append(n.content.getBlocks())}),m.addPage(t)}function l(){var n=null;return m.pages.forEach(function(e,t){e.hasBreaks()&&null===n&&(n={pageIndex:t,blocks:e.getOverflowBlocks()})}),n}function u(){var n=l();return null!==n&&(s(n),!0)}function d(){var n;do n=u();while(n)}function f(){c(),r(),i(),d(),o()}var h,m,C=this,k=new a(e);C.render=function(){m.pages.length<1&&m.addPage(k),f()},C.mountTo=function(n){h=n.model,m=n.view,C.render()}}function r(e){function t(){c.$el=c.$el||$("<div>").addClass(u),c.$watch||(c.$watch=c.$watch||$("<div>").addClass(f),c.$el.append(c.$watch))}function a(e,t){return c.$watch.children(n(t?e+" "+T:e))}function o(n){return a(n).length}function r(n,e){var t,r,c,s,l=a(n).eq(0);for(t=0,r=0;t<i.view.pages.length;t++,r=(r+1)%o(w),l=l.next())if(l||(l=a(n).eq(0)),c=n===w&&l.hasClass(T),s=n===C&&l.hasClass(T),(c&&e>0||s&&e<i.view.getPageCount()-1)&&++r,t===e||c&&0===e||s&&e===i.view.getPageCount()-1)return r}var i,c=this;c.hasTerminalBlockContainer=function(n){return a(n,!0).length>0},c.getIndexForPage=function(n,e){return c.hasTerminalBlockContainer(n)?r(n,e):e%o(n)},c.getBlocks=function(e){switch(e){case w:case C:return function(t){var o=a(e).eq(t),r=o.hasClass(T),i=o.find(n(g));return r?i.addClass(T):i.removeClass(T)}}return a(e).find(n(g))},c.getOrderedBlocks=function(n){return a(n).find("[data-order]")},c.mountTo=function(n){i!==n&&(i=n,i.$el.append(c.$el))},t()}function i(e){function t(){r.$el=r.$el||$("<div>").addClass(d)}function a(n,e){return isNaN(e)||null===e?void r.pages.push(n):void r.pages.splice(e,0,n)}var o,r=this;r.pages=r.pages||[],r.getPageCount=function(){return r.pages.length},r.getBlocks=function(e){return r.$el.find(n(e)).children(n(k)).children()},r.addPage=function(n,e){return a(n,e),n.mountTo(r),n},r.mountTo=function(n){o=n,o.$el.append(r.$el)},t()}function c(n){function t(){w.renderer.render()}function a(n){w.$el&&w.$el.removeClass(s),w.$el=n,w.$el.hasClass(s)||w.$el.addClass(s).removeClass(l)}function c(){w.model.mountTo(w),w.model.$watch.append(w.$el.children().filter(function(){var n=$(this);return!(n.hasClass(u)||n.hasClass(d)||n.hasClass(f))}))}function h(){w.view.mountTo(w)}function g(){w.renderer.mountTo(w)}function p(){v.observe(w.model.$watch[0],{childList:!0,attributes:!0,characterData:!0,subtree:!0})}var v,m,w=this;n=new e(n),w.model=new r(n),w.view=new i(n),w.renderer=new o(n),v=new MutationObserver(t),m={refresh:function(){t()}},w.bindTo=function(n){a(n),c(),h(),g(),p(),n.data("paginator",m)}}var s="paginator-component",l="paginator-unpaginated",u="model",d="view",f="watch",h="page",g="page-block",p="page-added",v="page-deleted",m="content",w="header",C="footer",k="margin",B="parent",T="-terminal";$.fn.paginate=function(n){new c(n).bindTo(this)}}();
//# sourceMappingURL=jquery-paginator.min.js.map
