!function(){function n(n,e){return"["+n+'="'+e+'"]'}function e(n){return"."+n.split(" ").filter(function(n){return n.trim().length>0}).join(".")}function t(n){return n}function a(n,e){function t(){r.$el=r.$el||$("<div>").addClass(n),r.$margin=r.$margin=$("<div>").addClass(C),r.$el.append(r.$margin)}var a,r=this;r.append=function(n){r.$margin.append(n)},r.clear=function(){r.$margin.html("")},r.mountTo=function(n){a!==n&&(a=n,a.$el.append(r.$el))},r.getBlocks=function(){return r.$margin.children()},t()}function r(n){function e(){i.$el=i.$el||$("<div>").addClass(g),i.$el.append(i.header.$el).append(i.content.$el).append(i.footer.$el)}function t(){var n=i.header.$el,e=i.footer.$el,t=i.content.$margin,a=Math.max(n.length>0?n.height():0,parseInt(t.css("margin-top"))),r=Math.max(e.length>0?e.height():0,parseInt(t.css("margin-bottom")));return i.$el.height()-a-r}function r(){var n=i.header.$el,e=i.content.$margin,a=Math.max(n.length>0?n.height():0,parseInt(e.css("margin-top")));return a+t()}var o,i=this;i.header=new a(k,n),i.content=new a(w,n),i.footer=new a(b,n),i.hasBreaks=function(){return i.getOverflowBlocks().length>0},i.isBlank=function(){return i.content.$margin.children().length<1},i.getOverflowBlocks=function(){return i.content.getBlocks().filter(function(){var n=$(this),e=n.position().top,t=n.height();return e+t>r()})},i.unmount=function(){i.$el.remove()},i.mountTo=function(n){o!==n&&(o=n,o.view.$el.append(i.$el))},e()}function o(t){function a(){y.pages.forEach(function(n,e){o(k,n,e),o(b,n,e)})}function o(t,a,r){var o,i=T.getIndexForPage(t,r),c=!1;if(i<0)switch(t){case k:return void a.header.clear();case b:return void a.footer.clear()}else{switch(t){case b:a.footer.clear(),o=T.getBlocks(t)(i),c=!0;break;case k:a.header.clear(),o=T.getBlocks(t)(i),c=!0;break;default:o=T.getBlocks(t)}switch(o.each(function(r){var o,i=$(this),s=i;if(i.find(O).each(function(n){$(this).attr(E,""+r+"."+n)}),c&&(s=i.clone(!0,!0)),!i.parents().is("body")||i.parents(e(m)).length>0)return void s.off("change",O);switch($blockParent=i.parent(),$blockParent.addClass(x).attr(P,0),s.attr(E,r).data(B,$blockParent).removeClass(p).addClass(v).on("change",O,function(e,a){var r,i=$(this);t!==k&&t!==b||(o=i.attr(E),r=$blockParent.find(n(E,o)),i.is("select")&&r.find("option").removeAttr("selected").filter(n("value",i.val())).attr("selected","selected"),r.val(i.val()).trigger(e.type,a))}),t){case k:return void a.header.append(s);case b:return void a.footer.append(s)}M.content.append(s)}),t){case k:a.content.$margin.css("margin-top",a.$el.find(e(t)).height());break;case b:a.content.$margin.css("margin-bottom",a.$el.find(e(t)).height())}}}function i(){T.$el.find(e(x)).each(function(n){$(this).attr(P,n)}),I.getBlocks("content").each(function(){var n=$(this),e=n.data(B);n.attr(P,e.attr(P))})}function c(){I.getBlocks("content").each(function(){var n,t,a=$(this);n=a.data(B),t=!n||n.hasClass(m)||n.parents(e(m)).length>0||!n.parents().is("body"),t&&a.remove()})}function s(n){var e=new r(t);n.blocks.each(function(){e.content.append($(this))}),y.pages.slice(n.pageIndex+1).forEach(function(n){e.content.append(n.content.getBlocks())}),I.addPage(e)}function u(){var n=null;return y.pages.forEach(function(e,t){e.hasBreaks()&&null===n&&(n={pageIndex:t,blocks:e.getOverflowBlocks()})}),n}function l(){var n=u();return null!==n&&(s(n),!0)}function f(){var n=[];y.pages.forEach(function(e,t){e.isBlank()&&n.push(t)}),n.reverse().forEach(function(n){y.pages.length<2||(y.pages[n].unmount(),y.pages.splice(n,1))})}function d(){I.$el.find(".content").find(".margin").children().sortElements(function(n,e){var t=parseInt($(n).attr(P)),a=parseInt($(e).attr(P));return t-a})}function h(){y.pages.length>0||I.addPage(M)}function g(){var n;do n=l(),a();while(n)}function C(n){y.detachObserver(),N=!1,n(),setTimeout(function(){y.attachObserver(),N=!0})}var T,I,y,j=this,M=new r(t),N=!1;j.render=function(){C(function(){h(),c(),o(w),i(),d(),g(),f(),g()})},j.mountTo=function(n){y=n,T=y.model,I=y.view}}function i(n){function t(){c.$el=c.$el||$("<div>").addClass(f),c.$watch||(c.$watch=c.$watch||$("<div>").addClass(h),c.$el.append(c.$watch))}function a(n,t){return c.$watch.find(e(t?n+" "+T:n))}function r(n){return a(n).length}function o(n,e){var t,o=r(n),c=-1,s=i.view.getPageCount(),u=s-1,l=a(n);if(1===o)switch(n){case k:return 0===e?0:-1;case b:return e===u?0:-1}t=0;do{if(c=(c+1)%o,0===e&&n===k||e===u&&n===b)return l.each(function(n){$(this).hasClass(T)&&(c=n)}),c;l.eq(c).hasClass(T)&&c++,t++}while(t<e);return c}var i,c=this;c.hasTerminalBlockContainer=function(n){return a(n,!0).length>0},c.getIndexForPage=function(n,e){return c.hasTerminalBlockContainer(n)?o(n,e):e%r(n)},c.getBlocks=function(n){switch(n){case k:case b:return function(t){var r=a(n).eq(t),o=r.hasClass(T),i=r.find(e(p));return o?i.addClass(T):i.removeClass(T)}}return a(n).find(e(p))},c.getOrderedBlocks=function(n){return a(n).find("["+P+"]")},c.mountTo=function(n){i!==n&&(i=n,i.$el.append(c.$el))},t()}function c(n){function t(){r.$el=r.$el||$("<div>").addClass(d)}function a(n,e){return isNaN(e)||null===e?void r.paginator.pages.push(n):void r.paginator.pages.splice(e,0,n)}var r=this;r.paginator=null,r.getPageCount=function(){return r.paginator.pages.length},r.getBlocks=function(n){return r.$el.find(e(n)).children(e(C)).children()},r.addPage=function(n,e){return a(n,e),n.mountTo(r.paginator),n},r.mountTo=function(n){r.paginator=n,r.paginator.$el.append(r.$el)},t()}function s(n,a){function r(){B.renderer.render()}function s(n){E&&clearTimeout(E),E=setTimeout(function(){r()},250)}function f(n){B.$el&&B.$el.removeClass(u),B.$el=n,B.$el.hasClass(u)||B.$el.addClass(u).removeClass(l)}function d(){var n;B.model.mountTo(B),n=B.$el.find([e(k),e(w),e(b)].join(",")),B.model.$watch.append(n)}function h(){B.view.mountTo(B)}function g(){B.renderer.mountTo(B)}function p(){P||(B.attachObserver(),P=!0)}function $(){x||(B.attachEventListeners(),x=!0)}function v(){p(),$()}function m(){r()}var C,B=this,T=new MutationObserver(s),x=!1,P=!1,E=null;return a=new t(a),B.model=new i(a),B.view=new c(a),B.renderer=new o(a),B.pages=B.pages||[],B.detachObserver=function(){T.disconnect()},B.attachObserver=function(){T.observe(B.model.$watch[0],{childList:!0,attributes:!0,characterData:!0,subtree:!0})},B.attachEventListeners=function(){B.model.$watch.on("change","input, select, textarea",function(n){P&&s(n)})},C=function(){return{observe:v,refresh:m}}(),f(n),d(),h(),g(),v(),n.data("paginator",C),C}var u="paginator-component",l="paginator-unpaginated",f="model",d="view",h="watch",g="page",p="page-block",v="page-added",m="page-deleted",w="content",k="header",b="footer",C="margin",B="parent",T="-terminal",x="block-parent",P="data-order",E="data-element-id",O="input, select, textarea, button, a, meter";jQuery.fn.findShallow=function(n){return function n(e,t){var a=e.children();if(a.length){var r=a.filter(t);return r.length?r.first():n(a,t)}return $()}(this,n)},jQuery.fn.sortElements=function(){var n=[].sort;return function(e,t){t=t||function(){return this};var a=this.map(function(){var n=t.call(this),e=n.parentNode,a=e.insertBefore(document.createTextNode(""),n.nextSibling);return function(){if(e===this)throw new Error("You can't sort elements if any one is a descendant of another.");e.insertBefore(this,a),e.removeChild(a)}});return n.call(this,e).each(function(n){a[n].call(t.call(this))})}}(),$.fn.paginate=function(n){return new s(this,n)}}();
//# sourceMappingURL=jquery-paginator.min.js.map
